{"version":3,"file":"index.cjs","sources":["../src/components/Context/BusLayoutContext.js","../src/components/Seat/ColLayout.js","../src/components/Seat/RowLayout.js","../src/components/Layout/Layout.js","../src/index.js","../src/ReactBusLayout.js"],"sourcesContent":["import React from \"react\";\nconst BusLayoutContext = React.createContext({});\nexport default BusLayoutContext;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport BusLayoutContext from \"../Context/BusLayoutContext\";\n\nconst ColLayout = ({ nCols = 1, start }) => {\n  const cols = Array.from({ length: nCols }, (_, index) => index);\n  const { isDisabled,onSeatSelect,AddSelectedSeat} = useContext(BusLayoutContext);\n  const [colorFill] = useState({\n    success: \"#00FF00\",\n    disabled: \"#e80d0d\",\n  });\n\n  return (\n    <React.Fragment>\n      {cols.map((col, index) => {\n        const SeatNo = index + start;\n        return (\n          <section key={index} className=\"mx-1\">\n            <button\n              type=\"button\"\n              disabled={isDisabled(SeatNo)}\n              onClick={() => {\n                AddSelectedSeat(SeatNo);\n                onSeatSelect(SeatNo);\n              }}\n              className=\"btn bg-dark-blue position-relative\"\n            >\n              <i>\n                <svg\n                  fill={\n                    isDisabled(SeatNo)\n                      ? colorFill.disabled\n                      : colorFill.success\n                  }\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  height=\"2em\"\n                  viewBox=\"0 0 576 512\"\n                >\n                  <path d=\"M288 0C422.4 0 512 35.2 512 80V96l0 32c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32l0 160c0 17.7-14.3 32-32 32v32c0 17.7-14.3 32-32 32H416c-17.7 0-32-14.3-32-32V448H192v32c0 17.7-14.3 32-32 32H128c-17.7 0-32-14.3-32-32l0-32c-17.7 0-32-14.3-32-32l0-160c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h0V96h0V80C64 35.2 153.6 0 288 0zM128 160v96c0 17.7 14.3 32 32 32H272V128H160c-17.7 0-32 14.3-32 32zM304 288H416c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32H304V288zM144 400a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm288 0a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM384 80c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16s7.2 16 16 16H368c8.8 0 16-7.2 16-16z\" />\n                </svg>\n                <span\n                  className={`badge position-absolute top-0 start-0 ${\n                    isDisabled(SeatNo) ? \"bg-danger\" : \"bg-success\"\n                  }`}\n                >\n                  {SeatNo}\n                </span>\n              </i>\n            </button>\n          </section>\n        );\n      })}\n    </React.Fragment>\n  );\n};\n\n\nexport default ColLayout;\n","import React, { useCallback } from \"react\";\nimport BusLayoutContext from \"../Context/BusLayoutContext\";\nimport ColLayout from \"./ColLayout\";\n\nconst RowLayout = () => {\n  const { nRows, Left, Right, showInfo, SelectedSeat, onSeatCancel } =\n    React.useContext(BusLayoutContext);\n  const Rows = Array.from({ length: nRows }, (_, index) => index);\n\n  const CachedSeat = useCallback(\n    () => (\n      <section className=\"vstack gap-2\">\n        {SelectedSeat.length > 0 && showInfo && (\n          <section\n            style={{\n              maxWidth: \"30em\",\n              overflowX: \"auto\",\n            }}\n            className=\"card text-center bg-dark-blue border shadow\"\n          >\n            <section className=\"card-body gap-1 hstack text-light\">\n              {SelectedSeat.map((seat, index) => (\n                <i\n                  onClick={() => onSeatCancel(seat)}\n                  role=\"button\"\n                  key={index}\n                  className=\"hstack gap-1 bg-danger\"\n                >\n                  <span className=\"rounded p-1\">{seat}</span>\n                  <span className=\"badge badge-danger\">x</span>\n                </i>\n              ))}\n              <span></span>\n            </section>\n          </section>\n        )}\n\n        {Rows.length > 0 &&\n          Rows.map((_row, index) => (\n            <section\n              key={index}\n              className=\"hstack  justify-content-center p-2 gap-3\"\n            >\n              <section>\n                {index === 0 && (\n                  <section className=\" mb-3 text-light fw-bold text-start py-1\">\n                    <strong className=\"border p-2\">{Left.title}</strong>\n                  </section>\n                )}\n                <section className=\"hstack justify-content-center\">\n                  <ColLayout\n                    start={(Left.col + Right.col) * index + 1}\n                    nCols={Left.col}\n                  />\n                </section>\n              </section>\n\n              <section className=\"vr border\" />\n              <section>\n                {index === 0 && (\n                  <section className=\"mb-3 text-light fw-bold text-end py-1\">\n                    <strong className=\"border p-2\">{Right.title}</strong>\n                  </section>\n                )}\n                <section className=\"hstack justify-content-start\">\n                  <ColLayout\n                    start={(Left.col + Right.col) * index + 1 + Left.col}\n                    nCols={Right.col}\n                  />\n                </section>\n              </section>\n            </section>\n          ))}\n      </section>\n    ),\n    [nRows, Left, Right, showInfo, SelectedSeat, onSeatCancel]\n  );\n  return CachedSeat();\n};\n\nexport default RowLayout;\n","import React, {  } from \"react\";\nimport RowLayout from \"../Seat/RowLayout\";\n\nconst Layout = () => {\n\n  \n  return (\n    <main className=\"container-fluid\">\n      <RowLayout />\n    </main>\n  );\n};\n\nexport default Layout;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport ReactBusLayout from \"./ReactBusLayout\";\n\n// css\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"planner\"));\nroot.render(\n  <React.StrictMode>\n    <ReactBusLayout />\n  </React.StrictMode>\n);\n","import \"./App.css\";\nimport Layout from \"./components/Layout/Layout\";\nimport BusLayoutContext from \"./components/Context/BusLayoutContext\";\nimport { useEffect, useState } from \"react\";\n\nconst ReactBusLayout = ({\n  nRows = 5,\n  Right = {\n    col: 2,\n    title: \"DRIVER\",\n  },\n  Left = {\n    col: 4,\n    title: \"ASSISTANCE\",\n  },\n  onSeatSelect = () => {},\n  onSeatCancel = () => {},\n  DisabledSeat = [],\n  onlyOnce = false,\n  showInfo = true,\n  valid = {\n    AllowMax: false,\n    max: 2,\n  },\n}) => {\n  useEffect(() => {});\n\n  const [SelectedSeat, setSelectedSeat] = useState([]);\n\n  const RemoveFromSelected = (seat) => {\n    setSelectedSeat((prev) => prev.filter((item) => item !== seat));\n    onSeatCancel(seat);\n  };\n\n  const AddSelectedSeat = (seat) => {\n    if (valid.AllowMax) {\n      SelectedSeat.length < valid.max &&\n        setSelectedSeat(() => [...SelectedSeat, seat]);\n    } else {\n      setSelectedSeat(() => [...SelectedSeat, seat]);\n    }\n  };\n\n  const isDisabled = (seat) => {\n    return (\n      SelectedSeat.includes(seat) ||\n      DisabledSeat.includes(seat) ||\n      (onlyOnce && SelectedSeat.length > 0)\n    );\n  };\n\n  return (\n    <BusLayoutContext.Provider\n      value={{\n        Left: Left,\n        valid: valid,\n        Right: Right,\n        nRows: nRows,\n        showInfo: showInfo,\n        onSeatSelect: onSeatSelect,\n        onSeatCancel: RemoveFromSelected,\n        DisabledSeat: DisabledSeat,\n        SelectedSeat: SelectedSeat,\n        AddSelectedSeat: AddSelectedSeat,\n        isDisabled: isDisabled,\n      }}\n    >\n      <main\n        className=\"rounded mt-1 shadow bg-dark-blue\"\n        style={{\n          overflowX: \"auto\",\n          width: \"max-content\",\n        }}\n      >\n        <Layout />\n      </main>\n    </BusLayoutContext.Provider>\n  );\n};\n\nexport default ReactBusLayout;\n"],"names":["BusLayoutContext","React","createContext","ColLayout","_ref","_ref$nCols","nCols","start","cols","Array","from","length","_","index","_useContext","useContext","isDisabled","onSeatSelect","AddSelectedSeat","colorFill","useState","success","disabled","h","Fragment","map","col","SeatNo","key","className","type","onClick","fill","xmlns","height","viewBox","d","RowLayout","_React$useContext","nRows","Left","Right","showInfo","SelectedSeat","onSeatCancel","Rows","useCallback","style","maxWidth","overflowX","seat","role","_row","title","CachedSeat","Layout","ReactDOM","createRoot","document","getElementById","render","StrictMode","_ref$nRows","_ref$Right","_ref$Left","_ref$onSeatSelect","_ref$onSeatCancel","_ref$DisabledSeat","DisabledSeat","_ref$onlyOnce","onlyOnce","_ref$showInfo","_ref$valid","valid","AllowMax","max","useEffect","_useState","setSelectedSeat","Provider","value","prev","filter","item","concat","includes","width"],"mappings":"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"}