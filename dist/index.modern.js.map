{"version":3,"file":"index.modern.js","sources":["../src/components/Context/BusLayoutContext.js","../src/components/Seat/ColLayout.js","../src/components/Seat/RowLayout.js","../src/components/Layout/Layout.js","../src/index.js","../src/ReactBusLayout.js"],"sourcesContent":["import React from \"react\";\nconst BusLayoutContext = React.createContext({});\nexport default BusLayoutContext;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport BusLayoutContext from \"../Context/BusLayoutContext\";\n\nconst ColLayout = ({ nCols = 1, start }) => {\n  const cols = Array.from({ length: nCols }, (_, index) => index);\n  const { isDisabled,onSeatSelect,AddSelectedSeat} = useContext(BusLayoutContext);\n  const [colorFill] = useState({\n    success: \"#00FF00\",\n    disabled: \"#e80d0d\",\n  });\n\n  return (\n    <React.Fragment>\n      {cols.map((col, index) => {\n        const SeatNo = index + start;\n        return (\n          <section key={index} className=\"mx-1\">\n            <button\n              type=\"button\"\n              disabled={isDisabled(SeatNo)}\n              onClick={() => {\n                AddSelectedSeat(SeatNo);\n                onSeatSelect(SeatNo);\n              }}\n              className=\"btn bg-dark-blue position-relative\"\n            >\n              <i>\n                <svg\n                  fill={\n                    isDisabled(SeatNo)\n                      ? colorFill.disabled\n                      : colorFill.success\n                  }\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  height=\"2em\"\n                  viewBox=\"0 0 576 512\"\n                >\n                  <path d=\"M288 0C422.4 0 512 35.2 512 80V96l0 32c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32l0 160c0 17.7-14.3 32-32 32v32c0 17.7-14.3 32-32 32H416c-17.7 0-32-14.3-32-32V448H192v32c0 17.7-14.3 32-32 32H128c-17.7 0-32-14.3-32-32l0-32c-17.7 0-32-14.3-32-32l0-160c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h0V96h0V80C64 35.2 153.6 0 288 0zM128 160v96c0 17.7 14.3 32 32 32H272V128H160c-17.7 0-32 14.3-32 32zM304 288H416c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32H304V288zM144 400a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm288 0a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM384 80c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16s7.2 16 16 16H368c8.8 0 16-7.2 16-16z\" />\n                </svg>\n                <span\n                  className={`badge position-absolute top-0 start-0 ${\n                    isDisabled(SeatNo) ? \"bg-danger\" : \"bg-success\"\n                  }`}\n                >\n                  {SeatNo}\n                </span>\n              </i>\n            </button>\n          </section>\n        );\n      })}\n    </React.Fragment>\n  );\n};\n\n\nexport default ColLayout;\n","import React, { useCallback } from \"react\";\nimport BusLayoutContext from \"../Context/BusLayoutContext\";\nimport ColLayout from \"./ColLayout\";\n\nconst RowLayout = () => {\n  const { nRows, Left, Right, showInfo, SelectedSeat, onSeatCancel } =\n    React.useContext(BusLayoutContext);\n  const Rows = Array.from({ length: nRows }, (_, index) => index);\n\n  const CachedSeat = useCallback(\n    () => (\n      <section className=\"vstack gap-2\">\n        {SelectedSeat.length > 0 && showInfo && (\n          <section\n            style={{\n              maxWidth: \"30em\",\n              overflowX: \"auto\",\n            }}\n            className=\"card text-center bg-dark-blue border shadow\"\n          >\n            <section className=\"card-body gap-1 hstack text-light\">\n              {SelectedSeat.map((seat, index) => (\n                <i\n                  onClick={() => onSeatCancel(seat)}\n                  role=\"button\"\n                  key={index}\n                  className=\"hstack gap-1 bg-danger\"\n                >\n                  <span className=\"rounded p-1\">{seat}</span>\n                  <span className=\"badge badge-danger\">x</span>\n                </i>\n              ))}\n              <span></span>\n            </section>\n          </section>\n        )}\n\n        {Rows.length > 0 &&\n          Rows.map((_row, index) => (\n            <section\n              key={index}\n              className=\"hstack  justify-content-center p-2 gap-3\"\n            >\n              <section>\n                {index === 0 && (\n                  <section className=\" mb-3 text-light fw-bold text-start py-1\">\n                    <strong className=\"border p-2\">{Left.title}</strong>\n                  </section>\n                )}\n                <section className=\"hstack justify-content-center\">\n                  <ColLayout\n                    start={(Left.col + Right.col) * index + 1}\n                    nCols={Left.col}\n                  />\n                </section>\n              </section>\n\n              <section className=\"vr border\" />\n              <section>\n                {index === 0 && (\n                  <section className=\"mb-3 text-light fw-bold text-end py-1\">\n                    <strong className=\"border p-2\">{Right.title}</strong>\n                  </section>\n                )}\n                <section className=\"hstack justify-content-start\">\n                  <ColLayout\n                    start={(Left.col + Right.col) * index + 1 + Left.col}\n                    nCols={Right.col}\n                  />\n                </section>\n              </section>\n            </section>\n          ))}\n      </section>\n    ),\n    [nRows, Left, Right, showInfo, SelectedSeat, onSeatCancel]\n  );\n  return CachedSeat();\n};\n\nexport default RowLayout;\n","import React, {  } from \"react\";\nimport RowLayout from \"../Seat/RowLayout\";\n\nconst Layout = () => {\n\n  \n  return (\n    <main className=\"container-fluid\">\n      <RowLayout />\n    </main>\n  );\n};\n\nexport default Layout;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport ReactBusLayout from \"./ReactBusLayout\";\n\n// css\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"planner\"));\nroot.render(\n  <React.StrictMode>\n    <ReactBusLayout />\n  </React.StrictMode>\n);\n","import \"./App.css\";\nimport Layout from \"./components/Layout/Layout\";\nimport BusLayoutContext from \"./components/Context/BusLayoutContext\";\nimport { useEffect, useState } from \"react\";\n\nconst ReactBusLayout = ({\n  nRows = 5,\n  Right = {\n    col: 2,\n    title: \"DRIVER\",\n  },\n  Left = {\n    col: 4,\n    title: \"ASSISTANCE\",\n  },\n  onSeatSelect = () => {},\n  onSeatCancel = () => {},\n  DisabledSeat = [],\n  onlyOnce = false,\n  showInfo = true,\n  valid = {\n    AllowMax: false,\n    max: 2,\n  },\n}) => {\n  useEffect(() => {});\n\n  const [SelectedSeat, setSelectedSeat] = useState([]);\n\n  const RemoveFromSelected = (seat) => {\n    setSelectedSeat((prev) => prev.filter((item) => item !== seat));\n    onSeatCancel(seat);\n  };\n\n  const AddSelectedSeat = (seat) => {\n    if (valid.AllowMax) {\n      SelectedSeat.length < valid.max &&\n        setSelectedSeat(() => [...SelectedSeat, seat]);\n    } else {\n      setSelectedSeat(() => [...SelectedSeat, seat]);\n    }\n  };\n\n  const isDisabled = (seat) => {\n    return (\n      SelectedSeat.includes(seat) ||\n      DisabledSeat.includes(seat) ||\n      (onlyOnce && SelectedSeat.length > 0)\n    );\n  };\n\n  return (\n    <BusLayoutContext.Provider\n      value={{\n        Left: Left,\n        valid: valid,\n        Right: Right,\n        nRows: nRows,\n        showInfo: showInfo,\n        onSeatSelect: onSeatSelect,\n        onSeatCancel: RemoveFromSelected,\n        DisabledSeat: DisabledSeat,\n        SelectedSeat: SelectedSeat,\n        AddSelectedSeat: AddSelectedSeat,\n        isDisabled: isDisabled,\n      }}\n    >\n      <main\n        className=\"rounded mt-1 shadow bg-dark-blue\"\n        style={{\n          overflowX: \"auto\",\n          width: \"max-content\",\n        }}\n      >\n        <Layout />\n      </main>\n    </BusLayoutContext.Provider>\n  );\n};\n\nexport default ReactBusLayout;\n"],"names":["BusLayoutContext","React","createContext","ColLayout","nCols","start","cols","Array","from","length","_","index","isDisabled","onSeatSelect","AddSelectedSeat","useContext","colorFill","useState","success","disabled","h","Fragment","map","col","SeatNo","key","className","type","onClick","fill","xmlns","height","viewBox","d","RowLayout","nRows","Left","Right","showInfo","SelectedSeat","onSeatCancel","Rows","useCallback","style","maxWidth","overflowX","seat","role","_row","title","CachedSeat","Layout","ReactDOM","createRoot","document","getElementById","render","StrictMode","ReactBusLayout","DisabledSeat","onlyOnce","valid","AllowMax","max","useEffect","setSelectedSeat","Provider","value","prev","filter","item","includes","width"],"mappings":"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"}