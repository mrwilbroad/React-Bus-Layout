import t,{useContext as e,useState as n,useCallback as a,useEffect as o}from"react";import c from"react-dom/client";import"bootstrap/dist/css/bootstrap.min.css";var s=t.createContext({}),l=function(a){var o=a.nCols,c=a.start,l=Array.from({length:void 0===o?1:o},function(t,e){return e}),r=e(s),i=r.isDisabled,d=r.onSeatSelect,u=r.AddSelectedSeat,m=n({success:"#00FF00",disabled:"#e80d0d"})[0];return h(t.Fragment,null,l.map(function(t,e){var n=e+c;return h("section",{key:e,className:"mx-1"},h("button",{type:"button",disabled:i(n),onClick:function(){u(n),d(n)},className:"btn bg-dark-blue position-relative"},h("i",null,h("svg",{fill:i(n)?m.disabled:m.success,xmlns:"http://www.w3.org/2000/svg",height:"2em",viewBox:"0 0 576 512"},h("path",{d:"M288 0C422.4 0 512 35.2 512 80V96l0 32c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32l0 160c0 17.7-14.3 32-32 32v32c0 17.7-14.3 32-32 32H416c-17.7 0-32-14.3-32-32V448H192v32c0 17.7-14.3 32-32 32H128c-17.7 0-32-14.3-32-32l0-32c-17.7 0-32-14.3-32-32l0-160c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h0V96h0V80C64 35.2 153.6 0 288 0zM128 160v96c0 17.7 14.3 32 32 32H272V128H160c-17.7 0-32 14.3-32 32zM304 288H416c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32H304V288zM144 400a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm288 0a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM384 80c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16s7.2 16 16 16H368c8.8 0 16-7.2 16-16z"})),h("span",{className:"badge position-absolute top-0 start-0 "+(i(n)?"bg-danger":"bg-success")},n))))}))},r=function(){var e=t.useContext(s),n=e.nRows,o=e.Left,c=e.Right,r=e.showInfo,i=e.SelectedSeat,d=e.onSeatCancel,u=Array.from({length:n},function(t,e){return e});return a(function(){return h("section",{className:"vstack gap-2"},i.length>0&&r&&h("section",{style:{maxWidth:"30em",overflowX:"auto"},className:"card text-center bg-dark-blue border shadow"},h("section",{className:"card-body gap-1 hstack text-light"},i.map(function(t,e){return h("i",{onClick:function(){return d(t)},role:"button",key:e,className:"hstack gap-1 bg-danger"},h("span",{className:"rounded p-1"},t),h("span",{className:"badge badge-danger"},"x"))}),h("span",null))),u.length>0&&u.map(function(t,e){return h("section",{key:e,className:"hstack  justify-content-center p-2 gap-3"},h("section",null,0===e&&h("section",{className:" mb-3 text-light fw-bold text-start py-1"},h("strong",{className:"border p-2"},o.title)),h("section",{className:"hstack justify-content-center"},h(l,{start:(o.col+c.col)*e+1,nCols:o.col}))),h("section",{className:"vr border"}),h("section",null,0===e&&h("section",{className:"mb-3 text-light fw-bold text-end py-1"},h("strong",{className:"border p-2"},c.title)),h("section",{className:"hstack justify-content-start"},h(l,{start:(o.col+c.col)*e+1+o.col,nCols:c.col}))))}))},[n,o,c,r,i,d])()},i=function(){return h("main",{className:"container-fluid"},h(r,null))};c.createRoot(document.getElementById("planner")).render(h(t.StrictMode,null,h(function(t){var e=t.nRows,a=void 0===e?5:e,c=t.Right,l=void 0===c?{col:2,title:"DRIVER"}:c,r=t.Left,d=void 0===r?{col:4,title:"ASSISTANCE"}:r,u=t.onSeatSelect,m=void 0===u?function(){}:u,f=t.onSeatCancel,g=void 0===f?function(){}:f,b=t.DisabledSeat,v=void 0===b?[]:b,p=t.onlyOnce,S=void 0!==p&&p,w=t.showInfo,N=void 0===w||w,x=t.valid,y=void 0===x?{AllowMax:!1,max:2}:x;o(function(){});var k=n([]),C=k[0],H=k[1];return h(s.Provider,{value:{Left:d,valid:y,Right:l,nRows:a,showInfo:N,onSeatSelect:m,onSeatCancel:function(t){H(function(e){return e.filter(function(e){return e!==t})}),g(t)},DisabledSeat:v,SelectedSeat:C,AddSelectedSeat:function(t){y.AllowMax?C.length<y.max&&H(function(){return[].concat(C,[t])}):H(function(){return[].concat(C,[t])})},isDisabled:function(t){return C.includes(t)||v.includes(t)||S&&C.length>0}}},h("main",{className:"rounded mt-1 shadow bg-dark-blue",style:{overflowX:"auto",width:"max-content"}},h(i,null)))},null)));
//# sourceMappingURL=index.module.js.map
