import e,{useContext as t,useState as a,useCallback as s,useEffect as l}from"react";import c from"react-dom/client";import"bootstrap/dist/css/bootstrap.min.css";const n=e.createContext({}),o=({nCols:s=1,start:l})=>{const c=Array.from({length:s},(e,t)=>t),{isDisabled:o,onSeatSelect:r,AddSelectedSeat:i}=t(n),[d]=a({success:"#00FF00",disabled:"#e80d0d"});return h(e.Fragment,null,c.map((e,t)=>{const a=t+l;return h("section",{key:t,className:"mx-1"},h("button",{type:"button",disabled:o(a),onClick:()=>{i(a),r(a)},className:"btn bg-dark-blue position-relative"},h("i",null,h("svg",{fill:o(a)?d.disabled:d.success,xmlns:"http://www.w3.org/2000/svg",height:"2em",viewBox:"0 0 576 512"},h("path",{d:"M288 0C422.4 0 512 35.2 512 80V96l0 32c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32l0 160c0 17.7-14.3 32-32 32v32c0 17.7-14.3 32-32 32H416c-17.7 0-32-14.3-32-32V448H192v32c0 17.7-14.3 32-32 32H128c-17.7 0-32-14.3-32-32l0-32c-17.7 0-32-14.3-32-32l0-160c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h0V96h0V80C64 35.2 153.6 0 288 0zM128 160v96c0 17.7 14.3 32 32 32H272V128H160c-17.7 0-32 14.3-32 32zM304 288H416c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32H304V288zM144 400a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm288 0a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM384 80c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16s7.2 16 16 16H368c8.8 0 16-7.2 16-16z"})),h("span",{className:"badge position-absolute top-0 start-0 "+(o(a)?"bg-danger":"bg-success")},a))))}))},r=()=>{const{nRows:t,Left:a,Right:l,showInfo:c,SelectedSeat:r,onSeatCancel:i}=e.useContext(n),d=Array.from({length:t},(e,t)=>t);return s(()=>h("section",{className:"vstack gap-2"},r.length>0&&c&&h("section",{style:{maxWidth:"30em",overflowX:"auto"},className:"card text-center bg-dark-blue border shadow"},h("section",{className:"card-body gap-1 hstack text-light"},r.map((e,t)=>h("i",{onClick:()=>i(e),role:"button",key:t,className:"hstack gap-1 bg-danger"},h("span",{className:"rounded p-1"},e),h("span",{className:"badge badge-danger"},"x"))),h("span",null))),d.length>0&&d.map((e,t)=>h("section",{key:t,className:"hstack  justify-content-center p-2 gap-3"},h("section",null,0===t&&h("section",{className:" mb-3 text-light fw-bold text-start py-1"},h("strong",{className:"border p-2"},a.title)),h("section",{className:"hstack justify-content-center"},h(o,{start:(a.col+l.col)*t+1,nCols:a.col}))),h("section",{className:"vr border"}),h("section",null,0===t&&h("section",{className:"mb-3 text-light fw-bold text-end py-1"},h("strong",{className:"border p-2"},l.title)),h("section",{className:"hstack justify-content-start"},h(o,{start:(a.col+l.col)*t+1+a.col,nCols:l.col})))))),[t,a,l,c,r,i])()},i=()=>h("main",{className:"container-fluid"},h(r,null));c.createRoot(document.getElementById("planner")).render(h(e.StrictMode,null,h(({nRows:e=5,Right:t={col:2,title:"DRIVER"},Left:s={col:4,title:"ASSISTANCE"},onSeatSelect:c=(()=>{}),onSeatCancel:o=(()=>{}),DisabledSeat:r=[],onlyOnce:d=!1,showInfo:m=!0,valid:g={AllowMax:!1,max:2}})=>{l(()=>{});const[u,b]=a([]);return h(n.Provider,{value:{Left:s,valid:g,Right:t,nRows:e,showInfo:m,onSeatSelect:c,onSeatCancel:e=>{b(t=>t.filter(t=>t!==e)),o(e)},DisabledSeat:r,SelectedSeat:u,AddSelectedSeat:e=>{g.AllowMax?u.length<g.max&&b(()=>[...u,e]):b(()=>[...u,e])},isDisabled:e=>u.includes(e)||r.includes(e)||d&&u.length>0}},h("main",{className:"rounded mt-1 shadow bg-dark-blue",style:{overflowX:"auto",width:"max-content"}},h(i,null)))},null)));
//# sourceMappingURL=index.module.js.map
